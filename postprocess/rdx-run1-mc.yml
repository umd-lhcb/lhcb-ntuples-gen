b0dst:
    headers:
        user:
            - functor/basic.h
            - functor/particle.h
    input_tree: TupleB0/DecayTree
    keep:
        # Event uid, also needed for keeping only one B for multi-B events
        - runNumber
        - eventNumber
        - GpsTime
    rename:
        # For pseudo-random sequence generation
        b0_PT: b0_pt
        # Isolation variables
        b0_ISOLATION_BDT: iso_bdt
        # Triggers
        b0_L0Global_TIS: b0_l0glob_tis
        dst_L0HadronDecision_TOS: dst_l0had_dec_tos
        mu_L0Global_TIS: mu_l0glob_tis
        # B0
        b0_M: b0_m
        # Dst
        dst_MC_MOTHER_ID: dst_mc_mom_id
        # D0
        d0_ID: d0_id
        # Pi
        pi_ID: pi_id
        # Mu
        mu_ID: mu_id
        mu_isMuon: mu_is_mu
        mu_PIDmu: mu_pid_mu
    calculation:
        # PID
        dst_idprod: "Double_t; d0_id*pi_id"   # negative when physical
        b0_idprod: "Double_t; d0_id*mu_id"    # positive when physical
        mu_pid: "^Bool_t; MU_PID(mu_is_mu, mu_pid_mu)"
        # Other flags
        isdata: "^Bool_t; ISDATA(GpsTime)"
        # flag_dst_sb: "^Bool_t; false" (flagDstSB)
        # flag_tau_mu: "^Bool_t; false" (flagtaumu)
        # just_dst: (justDst)
        # dst_ok: ????? always 0. ?????
        # b_type: (Btype)
        # flag_b_mu: (flagBmu)
        # b_bkg_cat: (Y_BKGCAT) some branch name?
        # flag_tauonic_d: (flagTauonicD)
        # flag_double_d: (flagDoubleD)
        # ishigher: (ishigher)
        # dstst_type: (Dststtype)
        # mm_mom: (mm_mom)
    selection:
        - "mu_pid"
        - "iso_bdt < 0.15"
        #- "isdata"  # Well, this doesn't apply to MC
        - "b0_m < 5280"
        # L0 cuts
        - "b0_l0glob_tis || dst_l0had_dec_tos"
        - "mu_l0glob_tis"
