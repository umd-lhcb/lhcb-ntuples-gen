headers:
    user:
        - functor/rdx/cut.h
        - functor/rdx/kinematic.h

keep:
    # Event uid, also needed for keeping only one B for multi-B events
    - runNumber
    - eventNumber
    - GpsTime

rename:
    # For pseudo-random sequence generation
    b0_PT: b_pt
    # Isolation variables
    b0_ISOLATION_BDT: iso_bdt
    # B0
    b0_M: b_m
    # B0, MC-only
    b0_BKGCAT: b_bkg_cat
    # D* mother, MC-only
    dst_MC_MOTHER_ID: dst_mom_id
    dst_MC_MOTHER_TRUEPX: dst_mc_mom_px
    dst_MC_MOTHER_TRUEPY: dst_mc_mom_py
    dst_MC_MOTHER_TRUEPZ: dst_mc_mom_pz
    dst_MC_MOTHER_TRUEPE: dst_mc_mom_pe
    dst_MC_MOTHER_KEY: dst_mc_mom_key
    dst_MC_MOTHER_ID: dst_mc_mom_id
    dst_MC_GD_MOTHER_KEY: dst_mc_gd_mom_key
    dst_MC_GD_MOTHER_ID: dst_mc_gd_mom_id
    dst_MC_GD_GD_MOTHER_KEY: dst_mc_gd_gd_mom_key
    dst_MC_GD_GD_MOTHER_ID: dst_mc_gd_gd_mom_id
    # D*
    dst_P: dst_p
    dst_PT: dst_pt
    dst_PE: dst_e
    # D*, MC-only
    dst_BKGCAT: dst_bkg_cat
    # D0 mother, MC-only
    d0_MC_MOTHER_KEY: d0_mc_mom_key
    # D0, MC-only
    d0_BKGCAT: d0_bkg_cat
    # Pi, MC-only
    pi_TRUEID: pi_true_id
    # Mu
    mu_isMuon: mu_is_mu
    mu_PIDmu: mu_pid_mu
    # Mu, MC-only
    mu_TRUEID: mu_true_id
    mu_MC_MOTHER_KEY: mu_mc_mom_key
    mu_MC_MOTHER_ID: mu_mc_mom_id
    mu_MC_GD_MOTHER_KEY: mu_mc_gd_mom_key
    mu_MC_GD_GD_MOTHER_ID: mu_mc_gd_mom_id
    mu_MC_GD_GD_MOTHER_KEY: mu_mc_gd_gd_mom_key
    mu_MC_GD_GD_MOTHER_ID: mu_mc_gd_gd_mom_id

calculation:
    # Fit variables
    el: double; GEV(FitVar_El)
    mm2: double; GEV2(FitVar_Mmiss2)
    q2: double; GEV2(FitVar_q2)
    # Selection flags
    flag_d0_pid_ok: >-
        bool; FLAG_SEL_D0_PID_OK_RUN1(mu_IPCHI2_OWNPV, mu_TRACK_GhostProb,
                                  mu_

        )

global_selection:
    # Trigger (L0, HLT1, HLT2)
    - "b0_L0Global_TIS || d0_L0HadronDecision_TOS"
    - "k_Hlt1TrackMVADecision_TOS || pi_Hlt1TrackMVADecision_TOS || d0_Hlt1TwoTrackMVADecision_TOS"
    - "b0_Hlt2XcMuXForTauB2XcMuDecision_TOS"
    # Stripping

one_cand_only:
    enable: true
    branch: rename_b_pt

output:
    iso_Dst:
        input: TupleB0/DecayTree
        selection:
            - "iso_bdt < 0.15"
