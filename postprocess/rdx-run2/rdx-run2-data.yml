headers:
    user:
        - functor/flag.h
        - functor/pid.h

keep:
    # Event uid
    runNumber: run
    eventNumber: event
    GpsTime: time

rename:
    # For pseudo-random sequence generation
    Y_PT: b0_pt
    # Isolation variables
    Y_ISOLATION_BDT: iso_bdt
    # Triggers
    Y_L0Global_TIS: b0_l0_tis
    Dst_2010_minus_L0HadronDecision_TOS: dst_l0had_tos
    muplus_L0Global_TIS: mu_l0_tis
    # B0
    Y_M: b0_m
    # D0
    D0_ID: D0_id
    # Pi
    piminus0_ID: pi_id
    # Mu
    muplus_isMuon: mu_is_mu
    muplus_PIDmu: mu_pid_mu

calculation:
    # PID
    mu_pid: Bool_t; MU_PID(mu_is_mu, mu_pid_mu)
    # Fit variables
    mm2: Double_t; GEV2(FitVar_Mmiss2)
    q2: Double_t; GEV2(FitVar_q2)
    el: Double_t; GEV(FitVar_El)
    # Other flags
    is_data: Bool_t; IS_DATA(GpsTime)

output:
    dst_iso:
        input: TupleB0/DecayTree
        selection:
            - "mu_pid"
            - "iso_bdt < 0.15"
            - "is_data"
            - "b0_m < 5280"
            # L0 cuts
            - "b0_l0_tis || dst_l0had_tos"
            - "mu_l0_tis"
        one_cand_only:
            enable: true
            branch: b0_pt
